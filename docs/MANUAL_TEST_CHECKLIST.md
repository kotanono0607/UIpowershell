# 手動テストチェックリスト

バージョン: 1.0
最終更新: 2025-12-25

---

## 使い方

1. 大きな変更後にこのリストを確認
2. 該当する機能をテスト
3. 問題があれば「問題あり」に記載

---

## 1. 起動・基本動作

| # | テスト項目 | 確認 | 備考 |
|---|-----------|------|------|
| 1.1 | quick-start.ps1で起動 | [ ] | |
| 1.2 | ブラウザ自動オープン | [ ] | |
| 1.3 | 初期画面が表示される | [ ] | |
| 1.4 | カテゴリボタンが表示される | [ ] | |
| 1.5 | エラーなく起動完了 | [ ] | コンソールに[ERROR]なし |

---

## 2. ノード基本操作

| # | テスト項目 | 確認 | 備考 |
|---|-----------|------|------|
| 2.1 | ノード追加（ボタンクリック） | [ ] | |
| 2.2 | ノード選択（クリック） | [ ] | 青枠表示 |
| 2.3 | ノード削除（Delete/右クリック） | [ ] | |
| 2.4 | ノードのドラッグ移動 | [ ] | 上下移動 |
| 2.5 | ドロップ位置インジケーター（青線） | [ ] | |
| 2.6 | 複数ノード選択（Ctrl+クリック） | [ ] | |
| 2.7 | 右クリックメニュー表示 | [ ] | |
| 2.8 | コピー＆ペースト | [ ] | Ctrl+C, Ctrl+V |

---

## 3. レイヤー操作（バグ発生しやすい）

| # | テスト項目 | 確認 | 備考 |
|---|-----------|------|------|
| 3.1 | レイヤータブ切り替え | [ ] | Layer 1-6 |
| 3.2 | 左パネルのレイヤー表示 | [ ] | |
| 3.3 | 右パネルのレイヤー表示 | [ ] | |
| 3.4 | レイヤー間のノード独立性 | [ ] | 他レイヤーに影響なし |

---

## 4. スクリプト展開（複雑・バグ多発）

### 4.1 基本展開

| # | テスト項目 | 確認 | 備考 |
|---|-----------|------|------|
| 4.1.1 | ピンクノード（スクリプト）追加 | [ ] | |
| 4.1.2 | ダブルクリックで展開 | [ ] | 右パネルに表示 |
| 4.1.3 | 展開後のノード追加 | [ ] | 子レイヤーに追加 |
| 4.1.4 | 展開の折りたたみ | [ ] | |
| 4.1.5 | 折りたたみ後の再展開 | [ ] | データ維持確認 |

### 4.2 多階層展開（最もバグが出やすい）

| # | テスト項目 | 確認 | 備考 |
|---|-----------|------|------|
| 4.2.1 | Layer1のスクリプト展開 → Layer2 | [ ] | |
| 4.2.2 | Layer2のスクリプト展開 → Layer3 | [ ] | ネスト |
| 4.2.3 | Layer3のスクリプト展開 → Layer4 | [ ] | 3階層目 |
| 4.2.4 | 途中レイヤーの折りたたみ | [ ] | 子も折りたたまれる |
| 4.2.5 | 親スクリプト削除時の子レイヤー | [ ] | 適切にクリア |
| 4.2.6 | 多階層でのノード移動 | [ ] | |
| 4.2.7 | 多階層でのUndo | [ ] | 全レイヤー復元 |

### 4.3 レイヤー詳細ポップアップ

| # | テスト項目 | 確認 | 備考 |
|---|-----------|------|------|
| 4.3.1 | ポップアップウィンドウ表示 | [ ] | |
| 4.3.2 | ポップアップでのノード操作 | [ ] | |
| 4.3.3 | ポップアップ閉じる | [ ] | |
| 4.3.4 | 複数ポップアップ同時表示 | [ ] | |

---

## 5. ループ・条件分岐（複雑）

### 5.1 ループ

| # | テスト項目 | 確認 | 備考 |
|---|-----------|------|------|
| 5.1.1 | ループ開始ノード追加 | [ ] | |
| 5.1.2 | ループ終了ノード自動追加 | [ ] | GroupID連携 |
| 5.1.3 | ループ内にノード追加 | [ ] | |
| 5.1.4 | ループのネスト（ループ内ループ） | [ ] | |
| 5.1.5 | ループ開始削除時の終了ノード | [ ] | |
| 5.1.6 | ループのUndo | [ ] | 開始・終了ペア復元 |

### 5.2 条件分岐（IF）

| # | テスト項目 | 確認 | 備考 |
|---|-----------|------|------|
| 5.2.1 | IF開始ノード追加 | [ ] | |
| 5.2.2 | ELSE/ENDIF自動追加 | [ ] | |
| 5.2.3 | 条件分岐内にノード追加 | [ ] | |
| 5.2.4 | 多重分岐（IF内IF） | [ ] | |
| 5.2.5 | 条件式編集ダイアログ | [ ] | |
| 5.2.6 | 分岐削除時の連動 | [ ] | |

### 5.3 多重分岐展開（最複雑）

| # | テスト項目 | 確認 | 備考 |
|---|-----------|------|------|
| 5.3.1 | ELSEIF追加 | [ ] | |
| 5.3.2 | 複数ELSEIFの順序 | [ ] | |
| 5.3.3 | 分岐のスクリプト化 | [ ] | ピンクノード変換 |
| 5.3.4 | スクリプト内の条件分岐 | [ ] | ネスト |
| 5.3.5 | 多重分岐のUndo/Redo | [ ] | |

---

## 6. Undo/Redo（重要）

| # | テスト項目 | 確認 | 備考 |
|---|-----------|------|------|
| 6.1 | 単純なUndo（ノード追加取消） | [ ] | |
| 6.2 | 単純なRedo | [ ] | |
| 6.3 | 複数操作のUndo連続 | [ ] | |
| 6.4 | Undo後に新操作→Redo不可 | [ ] | 分岐削除 |
| 6.5 | ノード移動のUndo | [ ] | 位置復元 |
| 6.6 | 削除のUndo | [ ] | ノード復活 |
| 6.7 | レイヤー跨ぎのUndo | [ ] | 多階層復元 |
| 6.8 | ループ操作のUndo | [ ] | ペア復元 |
| 6.9 | 条件分岐のUndo | [ ] | 構造復元 |
| 6.10 | 大量操作後のUndo | [ ] | 50操作以上 |

---

## 7. グループ化・関数化

| # | テスト項目 | 確認 | 備考 |
|---|-----------|------|------|
| 7.1 | 複数ノード選択→グループ化 | [ ] | |
| 7.2 | グループの折りたたみ | [ ] | |
| 7.3 | グループの展開 | [ ] | |
| 7.4 | グループ名編集 | [ ] | |
| 7.5 | グループ解除 | [ ] | |
| 7.6 | グループのコピー | [ ] | |
| 7.7 | グループ内ノードの編集 | [ ] | |
| 7.8 | ネストされたグループ | [ ] | |

---

## 8. 保存・読込

| # | テスト項目 | 確認 | 備考 |
|---|-----------|------|------|
| 8.1 | 新規フォルダ作成 | [ ] | |
| 8.2 | フォルダ保存 | [ ] | memory.json生成 |
| 8.3 | フォルダ読込 | [ ] | 状態復元 |
| 8.4 | 複雑な状態の保存・読込 | [ ] | 多階層 |
| 8.5 | 履歴ありの保存・読込 | [ ] | Undo可能維持 |

---

## 9. コード生成

| # | テスト項目 | 確認 | 備考 |
|---|-----------|------|------|
| 9.1 | 基本コード生成 | [ ] | |
| 9.2 | ループ含むコード生成 | [ ] | |
| 9.3 | 条件分岐含むコード生成 | [ ] | |
| 9.4 | 多階層スクリプトのコード生成 | [ ] | |
| 9.5 | 変数展開 | [ ] | |
| 9.6 | output.ps1の構文チェック | [ ] | エラーなし |

---

## 10. 変数機能

| # | テスト項目 | 確認 | 備考 |
|---|-----------|------|------|
| 10.1 | 変数追加 | [ ] | |
| 10.2 | 変数編集 | [ ] | |
| 10.3 | 変数削除 | [ ] | |
| 10.4 | 変数一覧表示 | [ ] | |
| 10.5 | ノードへの変数埋め込み | [ ] | |
| 10.6 | 変数の保存・読込 | [ ] | |

---

## 11. Excel連携

| # | テスト項目 | 確認 | 備考 |
|---|-----------|------|------|
| 11.1 | Excelファイル選択ダイアログ | [ ] | |
| 11.2 | シート一覧取得 | [ ] | |
| 11.3 | データ読み込み | [ ] | |
| 11.4 | Excel操作ノード | [ ] | |

---

## 問題記録

| 日付 | テスト番号 | 問題内容 | 対応状況 |
|------|-----------|----------|----------|
| | | | |
| | | | |
| | | | |

---

## 回帰テスト対象

以下は過去にバグがあった箇所。変更時は必ず確認：

1. **多階層展開後のUndo** - レイヤー状態の復元
2. **ループ削除時のペア処理** - 終了ノードの連動削除
3. **条件分岐の多重ネスト** - GroupID管理
4. **大量ノード時のドラッグ** - パフォーマンス
5. **右パネル折りたたみ後の再表示** - 状態維持

